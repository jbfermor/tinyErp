<%= turbo_stream.replace @product do %>
  <tr id="<%= dom_id(@product) %>">
    <td><%= @product.product_name %></td>
    <td><%= @product.stock %></td>
    <td><%= link_to @product.supplier.commercial_name, @product.supplier %></td>
    <td>
      <%= form_with url: toggle_state_product_path(@product), method: :patch, data: { turbo_frame: dom_id(@product) }, class: "d-inline" do %>
        <div class="form-check form-switch">
          <%= check_box_tag 'state', '1', @product.Activo?, class: 'form-check-input', onchange: 'this.form.submit()' %>
          <label class="form-check-label"><%= @product.state %></label>
        </div>
      <% end %>
    </td>
    <td><%= link_to 'Mostrar', @product, class: 'btn btn-primary btn-sm' %></td>
    <td><%= link_to 'Editar', edit_product_path(@product), class: 'btn btn-warning btn-sm' %></td>
    <td><%= button_to 'Eliminar', product_path(@product), method: :delete, data: { turbo_method: :delete, turbo_confirm: '¿Estás seguro?' }, class: 'btn btn-danger btn-sm' %></td>
  </tr>
<% end %>
